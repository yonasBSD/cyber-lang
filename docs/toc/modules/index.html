<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Modules. # Modules have their own namespace and contain accessible static symbols. By default, importing another Cyber script returns a module with its declared symbols.
Importing. # Import declarations create a local alias to the module referenced by the import specifier. The Cyber CLI comes with some builtin modules like math and test. If the specifier does not refer to a builtin module, it looks for a Cyber script file relative to the current script&rsquo;s directory."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="Modules"><meta property="og:description" content="Modules. # Modules have their own namespace and contain accessible static symbols. By default, importing another Cyber script returns a module with its declared symbols.
Importing. # Import declarations create a local alias to the module referenced by the import specifier. The Cyber CLI comes with some builtin modules like math and test. If the specifier does not refer to a builtin module, it looks for a Cyber script file relative to the current script&rsquo;s directory."><meta property="og:type" content="article"><meta property="og:url" content="https://fubark.github.io/cyber/docs/toc/modules/"><meta property="article:section" content="docs"><title>Modules | Cyber Docs v0.2</title><link rel=manifest href=/cyber/manifest.json><link rel=icon href=/cyber/favicon.png><link rel=stylesheet href=/cyber/book.min.4f0117e74e5337280f18eb9641eae520cb4b25adcf5dd64fafad4664145a5957.css integrity="sha256-TwEX505TNygPGOuWQerlIMtLJa3PXdZPr61GZBRaWVc=" crossorigin=anonymous><script defer src=/cyber/flexsearch.min.js></script>
<script defer src=/cyber/en.search.min.db402b8c46fe1829b7c32e1613e5e896d742a3010e5975362d629f119703c98d.js integrity="sha256-20ArjEb+GCm3wy4WE+XoltdCowEOWXU2LWKfEZcDyY0=" crossorigin=anonymous></script>
<link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=/cyber/hljs.min.css><link rel=stylesheet href=/cyber/style.css></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/cyber/><span>Cyber Docs v0.2</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://cyberscript.dev target=_blank rel=noopener>Homepage</a></li><li><a href=https://cyberscript.dev/play.html target=_blank rel=noopener>Playground</a></li></ul><ul><li class=book-section-flat><span>Table of Contents</span><ul><li><a href=/cyber/docs/toc/syntax/>Syntax</a></li><li><a href=/cyber/docs/toc/data-types/>Data Types</a></li><li><a href=/cyber/docs/toc/control-flow/>Control Flow</a></li><li><a href=/cyber/docs/toc/functions/>Functions</a></li><li><a href=/cyber/docs/toc/modules/ class=active>Modules</a></li><li><a href=/cyber/docs/toc/ffi/>FFI</a></li><li><a href=/cyber/docs/toc/errors/>Error Handling</a></li><li><a href=/cyber/docs/toc/concurrency/>Concurrency</a></li><li><a href=/cyber/docs/toc/type-system/>Type System</a></li><li><a href=/cyber/docs/toc/metaprogramming/>Metaprogramming</a></li><li><a href=/cyber/docs/toc/embedding/>Embedding</a></li><li><a href=/cyber/docs/toc/memory/>Memory</a></li><li><a href=/cyber/docs/toc/aot-jit/>AOT/JIT</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/cyber/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Modules</strong>
<label for=toc-control><img src=/cyber/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#importing>Importing.</a></li><li><a href=#exporting>Exporting.</a></li><li><a href=#builtin-modules>Builtin Modules.</a></li><li><a href=#core-module>Core Module.</a></li><li><a href=#math-module>Math Module.</a></li><li><a href=#os-module>Os Module.</a><ul><li><a href=#type-file><code>type File</code></a></li><li><a href=#type-dir><code>type Dir</code></a></li><li><a href=#map-direntry><code>map DirEntry</code></a></li><li><a href=#map-dirwalkentry><code>map DirWalkEntry</code></a></li><li><a href=#map-argoption><code>map ArgOption</code></a></li></ul></li><li><a href=#test-module>Test Module.</a></li></ul></nav></aside></header><article class=markdown><h1 id=modules>Modules.
<a class=anchor href=#modules>#</a></h1><p>Modules have their own namespace and contain accessible static symbols. By default, importing another Cyber script returns a module with its declared symbols.</p><h2 id=importing>Importing.
<a class=anchor href=#importing>#</a></h2><p>Import declarations create a local alias to the module referenced by the import specifier. The Cyber CLI comes with some builtin modules like <code>math</code> and <code>test</code>. If the specifier does not refer to a builtin module, it looks for a Cyber script file relative to the current script&rsquo;s directory. An embedder can integrate their own module loader.</p><pre tabindex=0><code class=language-cy data-lang=cy>import t &#39;test&#39;
t.eq(123, 123)

-- Imports are static declarations so they can be anywhere in the script.
import m &#39;math&#39;
print m.cos(0)

-- Loading another Cyber script.
import foo &#39;bar.cy&#39;
print foo.myFunc()
print foo.myVar
</code></pre><p>A Cyber script that is imported doesn&rsquo;t evaluate its main block. Only static declarations are effectively loaded. If there is code in the main block, it will skip evaluation. In the following, only the <code>print</code> statement in the <code>main.cy</code> is evaluated.</p><pre tabindex=0><code class=language-cy data-lang=cy>-- main.cy
import a &#39;foo.cy&#39;
print a.foo

-- foo.cy
import &#39;bar.cy&#39;
var foo: 123
print foo         -- Statement is ignored.

-- bar.cy
var bar: 321
print bar         -- Statement is ignored.
</code></pre><p>You can have circular imports in Cyber. In the following example, <code>main.cy</code> and <code>foo.cy</code> import each other without any problems.</p><pre tabindex=0><code class=language-cy data-lang=cy>-- main.cy
import foo &#39;foo.cy&#39;

func printB():
    foo.printC()

foo.printA()

-- foo.cy
import main &#39;main.cy&#39;

func printA():
    main.printB()

func printC():
    print &#39;done&#39;
</code></pre><p>Static variable declarations from imports can have circular references. Read more about this in <a href=/cyber/docs/toc/syntax/#static-variables>Static Variables</a>.</p><p>Modules can also be destructured using the following syntax:</p><pre tabindex=0><code class=language-cy data-lang=cy>import { cos, pi } &#39;math&#39;
print cos(pi)
</code></pre><h2 id=exporting>Exporting.
<a class=anchor href=#exporting>#</a></h2><p>All static declarations are exported when the script&rsquo;s module is loaded.</p><pre tabindex=0><code class=language-cy data-lang=cy>func foo():         -- Exported static function.
    print 123

var bar: 234        -- Exported static variable.

type Thing object:  -- Exported type.
    a float
</code></pre><p>The annotation <code>@hide</code> provides a hint to editors that the static symbol should not appear in the auto-complete. Despite this, the symbol is still reachable.</p><blockquote><p><em>Planned Feature</em></p></blockquote><h2 id=builtin-modules>Builtin Modules.
<a class=anchor href=#builtin-modules>#</a></h2><p>Cyber currently contains the builtin modules:</p><ul><li><a href=#core-module>core</a>: Cyber related functions and commonly used utilities.</li><li><a href=#math-module>math</a>: Math constants and functions.</li><li><a href=#os-module>os</a>: System level functions.</li><li><a href=#test-module>test</a>: Utilities for testing.</li></ul><blockquote><p><em>Incomplete: The docs for builtins are not completely up-to-date. They will be auto generated in the future.</em></p></blockquote><h2 id=core-module>Core Module.
<a class=anchor href=#core-module>#</a></h2><p>The core module contains functions related to Cyber and common utilities. It is automatically imported into each script&rsquo;s namespace.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>print &#39;hello&#39;
var contents = readFile &#39;foo.txt&#39;
print contents
</code></pre><table><thead><tr><th>Function</th><th>Summary</th></tr></thead><tbody><tr><td><code>arrayFill(val any, n int) List</code></td><td>Creates a list with initial capacity of <code>n</code> and values set to <code>val</code>. If the value is an object, it is shallow copied <code>n</code> times.</td></tr><tr><td><code>boolean(val any) boolean</code></td><td>Converts a value to either <code>true</code> or <code>false</code>.</td></tr><tr><td><code>cacheUrl(url string) string</code></td><td>Returns the path of a locally cached file of <code>url</code>. If no such file exists locally, it&rsquo;s fetched from <code>url</code>.</td></tr><tr><td><code>copy(val any) any</code></td><td>Copies a primitive value or creates a shallow copy of an object value.</td></tr><tr><td><code>error(e (enum | symbol)) error</code></td><td>Create an error from an enum or symbol.</td></tr><tr><td><code>execCmd(args []string) Map{ out, err, exited }</code></td><td>Runs a shell command and returns the stdout/stderr.</td></tr><tr><td><code>exit(status int) noreturn</code></td><td>Exits the program with a status code.</td></tr><tr><td><code>evalJS(val string) none</code></td><td>Evals JS from the host environment. This is only available in a web WASM build of Cyber.</td></tr><tr><td><code>fetchUrl(url string) rawstring</code></td><td>Fetches the contents at <code>url</code> using the HTTP GET request method.</td></tr><tr><td><code>getInput() rawstring</code></td><td>Reads stdin until a new line is reached. This is intended to read user input from the command line. For bulk reads from stdin, use <code>os.stdin</code>.</td></tr><tr><td><code>int(val any) int</code></td><td>Converts a value to an 32-bit integer.</td></tr><tr><td><code>isAlpha(val int) boolean</code></td><td>Returns whether a rune is an alphabetic letter.</td></tr><tr><td><code>isDigit(val int) boolean</code></td><td>Returns whether a rune is a digit.</td></tr><tr><td><code>must(val any) any | noreturn</code></td><td>If <code>val</code> is an error, <code>panic(val)</code> is invoked. Otherwise, <code>val</code> is returned.</td></tr><tr><td><code>float(val any) float</code></td><td>Casts or converts the value to a <code>float</code>. Panics if type conversion fails.</td></tr><tr><td><code>panic(e symbol) noreturn</code></td><td>Stop execution in the current fiber and starts unwinding the call stack. See <a href=/cyber/docs/toc/errors/#unexpected-errors>Unexpected Errors</a>.</td></tr><tr><td><code>parseCyber(src any) map</code></td><td>Parses Cyber source string into structured map object. Currently, only metadata about static declarations is made available but this will be extended to include an AST.</td></tr><tr><td><code>parseCyon(src any) any</code></td><td>Parses a CYON string into a value.</td></tr><tr><td><code>performGC() map</code></td><td>Runs the garbage collector once to detect reference cycles and abandoned objects. Returns the statistics of the run in a map value.</td></tr><tr><td><code>pointer(val any) pointer</code></td><td>Converts a <code>int</code> to a <code>pointer</code> value, or casts to a <code>pointer</code>. This is usually used with FFI.</td></tr><tr><td><code>print(s string) none</code></td><td>Prints a value as a string to stdout. The new line is also printed.</td></tr><tr><td><code>prints(s string) none</code></td><td>Prints a value as a string to stdout.</td></tr><tr><td><code>rawstring(str string) rawstring</code></td><td>Converts a string to a <code>rawstring</code>.</td></tr><tr><td><code>readAll() rawstring</code></td><td>Reads stdin to the EOF as a <code>rawstring</code>.</td></tr><tr><td><code>readFile(path string) rawstring</code></td><td>Reads the file contents into a <code>rawstring</code> value.</td></tr><tr><td><code>runestr(val int) string</code></td><td>Converts a rune to a string.</td></tr><tr><td><code>string(val any) string</code></td><td>Converts a value to a string.</td></tr><tr><td><code>toCyon(val any) string</code></td><td>Encodes a value to CYON string.</td></tr><tr><td><code>typeof(any) metatype</code></td><td>Returns the value&rsquo;s type as a <code>metatype</code> object.</td></tr><tr><td><code>typesym(any) symbol</code></td><td>Returns the value&rsquo;s type as one of the predefined symbols: #float, #int, #boolean, #object, #list, #map, #string, #rawstring, #function, #fiber, #pointer, #symbol, #metatype, #none, #error</td></tr><tr><td><code>writeFile(path string, contents string) none</code></td><td>Writes a string value to a file.</td></tr></tbody></table><h2 id=math-module>Math Module.
<a class=anchor href=#math-module>#</a></h2><p>The math module contains commonly used math constants and functions.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>import m &#39;math&#39;

var r = 10
print(m.pi * r^2)
</code></pre><table><thead><tr><th>Variable</th><th>Type</th><th>Summary</th></tr></thead><tbody><tr><td>e</td><td>float</td><td>Euler&rsquo;s number and the base of natural logarithms; approximately 2.718.</td></tr><tr><td>inf</td><td>float</td><td>Infinity.</td></tr><tr><td>log10e</td><td>float</td><td>Base-10 logarithm of E; approximately 0.434.</td></tr><tr><td>log2e</td><td>float</td><td>Base-2 logarithm of E; approximately 1.443.</td></tr><tr><td>ln10</td><td>float</td><td>Natural logarithm of 10; approximately 2.303.</td></tr><tr><td>ln2</td><td>float</td><td>Natural logarithm of 2; approximately 0.693.</td></tr><tr><td>nan</td><td>float</td><td>Not a number. Note that nan == nan, however, if a nan came from an arithmetic operation, the comparison is undefined (it may be true or false, so it is not reliable).</td></tr><tr><td>neginf</td><td>float</td><td>Negative infinity.</td></tr><tr><td>pi</td><td>float</td><td>Ratio of a circle&rsquo;s circumference to its diameter; approximately 3.14159.</td></tr><tr><td>sqrt1_2</td><td>float</td><td>Square root of ½; approximately 0.707.</td></tr><tr><td>sqrt2</td><td>float</td><td>Square root of 2; approximately 1.414.</td></tr></tbody></table><table><thead><tr><th>Function</th><th>Summary</th></tr></thead><tbody><tr><td>abs(float) float</td><td>Returns the absolute value of x.</td></tr><tr><td>acos(float) float</td><td>Returns the arccosine of x.</td></tr><tr><td>acosh(float) float</td><td>Returns the hyperbolic arccosine of x.</td></tr><tr><td>asin(float) float</td><td>Returns the arcsine of x.</td></tr><tr><td>asinh(float) float</td><td>Returns the hyperbolic arcsine of a number.</td></tr><tr><td>atan(float) float</td><td>Returns the arctangent of x.</td></tr><tr><td>atan2(float, float) float</td><td>Returns the arctangent of the quotient of its arguments.</td></tr><tr><td>atanh(float) float</td><td>Returns the hyperbolic arctangent of x.</td></tr><tr><td>cbrt(float) float</td><td>Returns the cube root of x.</td></tr><tr><td>ceil(float) float</td><td>Returns the smallest integer greater than or equal to x.</td></tr><tr><td>clz32(float) float</td><td>Returns the number of leading zero bits of the 32-bit integer x.</td></tr><tr><td>cos(float) float</td><td>Returns the cosine of x.</td></tr><tr><td>cosh(float) float</td><td>Returns the hyperbolic cosine of x.</td></tr><tr><td>exp(float) float</td><td>Returns e^x, where x is the argument, and e is Euler&rsquo;s number (2.718…, the base of the natural logarithm).</td></tr><tr><td>expm1(float) float</td><td>Returns subtracting 1 from exp(x).</td></tr><tr><td>floor(float) float</td><td>Returns the largest integer less than or equal to x.</td></tr><tr><td>hypot(float, float) float</td><td>Returns the square root of the sum of squares of its arguments.</td></tr><tr><td>isNaN(float) bool</td><td>Returns whether x is not a number.</td></tr><tr><td>ln(float) float</td><td>Returns the natural logarithm (㏒e; also, ㏑) of x.</td></tr><tr><td>log(float, float) float</td><td>Returns the logarithm of y with base x.</td></tr><tr><td>log10(float) float</td><td>Returns the base-10 logarithm of x.</td></tr><tr><td>log1p(float) float</td><td>Returns the natural logarithm (㏒e; also ㏑) of 1 + x for the number x.</td></tr><tr><td>log2(float) float</td><td>Returns the base-2 logarithm of x.</td></tr><tr><td>max(float, float) float</td><td>Returns the largest of two numbers.</td></tr><tr><td>min(float, float) float</td><td>Returns the smallest of two numbers.</td></tr><tr><td>mul32(float, float) float</td><td>Returns the result of the 32-bit integer multiplication of x and y. Integer overflow is allowed.</td></tr><tr><td>pow(float, float) float</td><td>Returns base x to the exponent power y (that is, x^y).</td></tr><tr><td>random() float</td><td>Returns a pseudo-random number between 0 and 1.</td></tr><tr><td>round(float) float</td><td>Returns the value of the number x rounded to the nearest integer.</td></tr><tr><td>sign(float) float</td><td>Returns the sign of the x, indicating whether x is positive, negative, or zero.</td></tr><tr><td>sin(float) float</td><td>Returns the sine of x.</td></tr><tr><td>sinh(float) float</td><td>Returns the hyperbolic sine of x.</td></tr><tr><td>sqrt(float) float</td><td>Returns the positive square root of x.</td></tr><tr><td>tan(float) float</td><td>Returns the tangent of x.</td></tr><tr><td>tanh(float) float</td><td>Returns the hyperbolic tangent of x.</td></tr><tr><td>trunc(float) float</td><td>Returns the integer portion of x, removing any fractional digits.</td></tr></tbody></table><h2 id=os-module>Os Module.
<a class=anchor href=#os-module>#</a></h2><p>Cyber&rsquo;s os module contains system level functions. It&rsquo;s still undecided as to how much should be included here so it&rsquo;s incomplete. You can still access os and libc functions yourself using Cyber&rsquo;s FFI or embedding API.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>import os &#39;os&#39;

var map = os.getEnvAll()
for map each k, v:
    print &#39;{k} -&gt; {v}&#39;
</code></pre><table><thead><tr><th>Variable</th><th>Type</th><th>Summary</th></tr></thead><tbody><tr><td>cpu</td><td>string</td><td>The current cpu arch&rsquo;s tag name.</td></tr><tr><td>endian</td><td>#little, #big</td><td>The current arch&rsquo;s endianness.</td></tr><tr><td>stderr</td><td>File</td><td>Standard error file descriptor.</td></tr><tr><td>stdin</td><td>File</td><td>Standard input file descriptor.</td></tr><tr><td>stdout</td><td>File</td><td>Standard output file descriptor.</td></tr><tr><td>system</td><td>string</td><td>The current operating system&rsquo;s tag name.</td></tr><tr><td>vecBitSize</td><td>int</td><td>Default SIMD vector bit size.</td></tr></tbody></table><table><thead><tr><th>Function</th><th>Summary</th></tr></thead><tbody><tr><td><code>access(path any, mode (#read | #write | #readWrite)) true | error</code></td><td>Attempts to access a file at the given <code>path</code> with the <code>#read</code>, <code>#write</code>, or <code>#readWrite</code> mode. Return true or an error.</td></tr><tr><td><code>args() List&lt;string | rawstring></code></td><td>Returns the command line arguments as a list. Each argument is validated and returned as a UTF-8 <code>string</code> or <code>rawstring</code> if the validation failed.</td></tr><tr><td><code>bindLib(path any, decls [](CFunc|CStruct)) Object | Map</code></td><td>Calls <code>bindLib(path, decls, {})</code>.</td></tr><tr><td><code>bindLib(path any, decls [](CFunc|CStruct), config: BindLibConfig) Object | Map</code></td><td>Creates an FFI binding to a dynamic library and it&rsquo;s symbols. By default, an anonymous object is returned with the C-functions binded as the object&rsquo;s methods. If <code>config</code> contains <code>genMap: true</code>, a <code>Map</code> is returned instead with C-functions binded as function values.</td></tr><tr><td><code>copyFile(srcPath any, dstPath any) none | error</code></td><td>Copies a file to a destination path.</td></tr><tr><td><code>createDir(path any) true | error</code></td><td>Creates the directory at <code>path</code>. Returns <code>true</code> if successful.</td></tr><tr><td><code>createFile(path any, truncate boolean) File | error</code></td><td>Creates and opens the file at <code>path</code>. If <code>truncate</code> is true, an existing file will be truncated.</td></tr><tr><td><code>cstr(any) pointer</code></td><td>Returns a null terminated C string.</td></tr><tr><td><code>cwd() string</code></td><td>Returns the current working directory.</td></tr><tr><td><code>dirName(path any) string | none</code></td><td>Returns the given path with its last component removed.</td></tr><tr><td><code>exePath() string</code></td><td>Returns the current executable&rsquo;s path.</td></tr><tr><td><code>free(ptr pointer) none</code></td><td>Frees the memory located at <code>ptr</code>.</td></tr><tr><td><code>fromCstr(pointer) rawstring</code></td><td>Returns a <code>rawstring</code> from a null terminated C string.</td></tr><tr><td><code>getEnv(key any) string | none</code></td><td>Returns an environment value by key.</td></tr><tr><td><code>getEnvAll() Map</code></td><td>Returns all environment entries as a <code>Map</code>.</td></tr><tr><td><code>malloc(size int) pointer</code></td><td>Allocates <code>size</code> bytes of memory and returns a pointer.</td></tr><tr><td><code>milliTime() float</code></td><td>Return the calendar timestamp, in milliseconds, relative to UTC 1970-01-01.</td></tr><tr><td><code>openDir(path any) Dir | error</code></td><td>Invokes <code>openDir(path, false)</code>.</td></tr><tr><td><code>openDir(path any, iterable boolean) Dir | error</code></td><td>Opens a directory at the given <code>path</code>. <code>iterable</code> indicates that the directory&rsquo;s entries can be iterated.</td></tr><tr><td><code>openFile(path any, mode (#read | #write | #readWrite)) File | error</code></td><td>Opens a file at the given <code>path</code> with the <code>#read</code>, <code>#write</code>, or <code>#readWrite</code> mode.</td></tr><tr><td><code>parseArgs(options list[ArgOption]) map</code></td><td>Given expected <code>ArgOption</code>s, returns a map of the options and a <code>rest</code> entry which contains the non-option arguments.</td></tr><tr><td><code>realPath(path any) string | error</code></td><td>Returns the absolute path of the given path.</td></tr><tr><td><code>removeDir(path any) true | error</code></td><td>Removes an empty directory at <code>path</code>. Returns <code>true</code> if successful.</td></tr><tr><td><code>removeFile(path any) true | error</code></td><td>Removes the file at <code>path</code>. Returns <code>true</code> if successful.</td></tr><tr><td><code>setEnv(key any, value any) none</code></td><td>Sets an environment value by key.</td></tr><tr><td><code>sleep(ms float) none</code></td><td>Pauses the current thread for given milliseconds.</td></tr><tr><td><code>unsetEnv(key any) none</code></td><td>Removes an environment value by key.</td></tr></tbody></table><h3 id=type-file><code>type File</code>
<a class=anchor href=#type-file>#</a></h3><table><thead><tr><th>Method</th><th>Summary</th></tr></thead><tbody><tr><td><code>close() none</code></td><td>Closes the file handle. File ops invoked afterwards will return <code>error.Closed</code>.</td></tr><tr><td><code>read(n float) rawstring</code></td><td>Reads at most <code>n</code> bytes as a <code>rawstring</code>. <code>n</code> must be at least 1. A result with length 0 indicates the end of file was reached.</td></tr><tr><td><code>readToEnd() rawstring</code></td><td>Reads to the end of the file and returns the content as a <code>rawstring</code>.</td></tr><tr><td><code>seek(pos float) none</code></td><td>Seeks the read/write position to <code>pos</code> bytes from the start. Negative <code>pos</code> is invalid.</td></tr><tr><td><code>seekFromCur(pos float) none</code></td><td>Seeks the read/write position by <code>pos</code> bytes from the current position.</td></tr><tr><td><code>seekFromEnd(pos float) none</code></td><td>Seeks the read/write position by <code>pos</code> bytes from the end. Positive <code>pos</code> is invalid.</td></tr><tr><td><code>stat() Map</code></td><td>Returns info about the file as a <code>Map</code>.</td></tr><tr><td><code>streamLines() Iterable&lt;rawstring></code></td><td>Equivalent to <code>streamLines(4096)</code>.</td></tr><tr><td><code>streamLines(bufSize float) Iterable&lt;rawstring></code></td><td>Returns an iterable that streams lines ending in <code>\n</code>, <code>\r</code>, <code>\r\n</code>, or the <code>EOF</code>. The lines returned include the new line character(s). A buffer size of <code>bufSize</code> bytes is allocated for reading. If <code>\r</code> is found at the end of the read buffer, the line is returned instead of waiting to see if the next read has a connecting <code>\n</code>.</td></tr><tr><td><code>write(data (string | rawstring)) float</code></td><td>Writes a <code>string</code> or <code>rawstring</code> at the current file position. The number of bytes written is returned.</td></tr></tbody></table><h3 id=type-dir><code>type Dir</code>
<a class=anchor href=#type-dir>#</a></h3><table><thead><tr><th>Method</th><th>Summary</th></tr></thead><tbody><tr><td><code>iterator() Iterator&lt;DirEntry> | error</code></td><td>Returns a new iterator over the directory entries. If this directory was not opened with the iterable flag, <code>error.NotAllowed</code> is returned instead.</td></tr><tr><td><code>stat() Map</code></td><td>Returns info about the file as a <code>Map</code>.</td></tr><tr><td><code>walk() Iterator&lt;DirWalkEntry> | error</code></td><td>Returns a new iterator over the directory recursive entries. If this directory was not opened with the iterable flag, <code>error.NotAllowed</code> is returned instead.</td></tr></tbody></table><h3 id=map-direntry><code>map DirEntry</code>
<a class=anchor href=#map-direntry>#</a></h3><table><thead><tr><th>Entry</th><th>Summary</th></tr></thead><tbody><tr><td><code>'name' -> rawstring</code></td><td>The name of the file or directory.</td></tr><tr><td><code>'type' -> #file | #dir | #unknown</code></td><td>The type of the entry.</td></tr></tbody></table><h3 id=map-dirwalkentry><code>map DirWalkEntry</code>
<a class=anchor href=#map-dirwalkentry>#</a></h3><table><thead><tr><th>Entry</th><th>Summary</th></tr></thead><tbody><tr><td><code>'name' -> rawstring</code></td><td>The name of the file or directory.</td></tr><tr><td><code>'path' -> rawstring</code></td><td>The path of the file or directory relative to the walker&rsquo;s root directory.</td></tr><tr><td><code>'type' -> #file | #dir | #unknown</code></td><td>The type of the entry.</td></tr></tbody></table><h3 id=map-argoption><code>map ArgOption</code>
<a class=anchor href=#map-argoption>#</a></h3><table><thead><tr><th>Entry</th><th>Summary</th></tr></thead><tbody><tr><td><code>'name' -> string</code></td><td>The name of the option to match excluding the hyphen prefix. eg. <code>-path</code></td></tr><tr><td><code>'type' -> metatype(string | float | boolean)</code></td><td>Parse as given value type.</td></tr><tr><td><code>'default' -> any</code></td><td>Optional: Default value if option is missing. <code>none</code> is used if this is not provided.</td></tr></tbody></table><h2 id=test-module>Test Module.
<a class=anchor href=#test-module>#</a></h2><p>The <code>test</code> module contains utilities for testing.</p><p>Sample usage:</p><pre tabindex=0><code class=language-cy data-lang=cy>import t &#39;test&#39;

var a = 123 + 321
t.eq(a, 444)
</code></pre><table><thead><tr><th>Function</th><th>Summary</th></tr></thead><tbody><tr><td><code>eq(a any, b any) true | error</code></td><td>Returns whether two values are equal. Returns <code>error.AssertError</code> if types do not match up.</td></tr><tr><td><code>eqList(a any, b any) true | error</code></td><td>Returns true if two lists have the same size and the elements are equal as if <code>eq</code> was called on those corresponding elements.</td></tr><tr><td><code>eqNear(a any, b any) true | error</code></td><td>Returns two numbers are near each other within epsilon 1e-5.</td></tr></tbody></table></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/fubark/cyber/edit/master/docs/hugo/content/docs/toc/modules.md target=_blank rel=noopener><img src=/cyber/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#importing>Importing.</a></li><li><a href=#exporting>Exporting.</a></li><li><a href=#builtin-modules>Builtin Modules.</a></li><li><a href=#core-module>Core Module.</a></li><li><a href=#math-module>Math Module.</a></li><li><a href=#os-module>Os Module.</a><ul><li><a href=#type-file><code>type File</code></a></li><li><a href=#type-dir><code>type Dir</code></a></li><li><a href=#map-direntry><code>map DirEntry</code></a></li><li><a href=#map-dirwalkentry><code>map DirWalkEntry</code></a></li><li><a href=#map-argoption><code>map ArgOption</code></a></li></ul></li><li><a href=#test-module>Test Module.</a></li></ul></nav></div></aside></main><script src=/cyber/highlight.min.js></script>
<script>hljs.registerLanguage("cy",function(){return{keywords:{keyword:["func","import","for","coinit","coresume","coyield","return","if","then","else","as","each","while","var","object","break","continue","match","pass","or","and","not","is","some","error","static","capture","true","false","none","throw","try","catch","recover","enum","type"],type:["float","string","bool","any","int","List","Map","rawstring","symbol","pointer"]},contains:[{scope:"string",begin:"'",end:"'"},{scope:"symbol",begin:"#",end:/\w(?=[^\w])/},hljs.COMMENT("--",`
`,{contains:[]}),hljs.C_NUMBER_MODE]}}),hljs.highlightAll()</script></body></html>